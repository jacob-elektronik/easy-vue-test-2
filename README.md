[![Build Status](https://travis-ci.org/xiGUAwanOU/easy-vue-test-2.svg?branch=master)](https://travis-ci.org/xiGUAwanOU/easy-vue-test-2)

# Easy Vue Test 2

## Introduction
Easy Vue Test 2 is a test library for testing the components in a Vue.js project. It aims at providing a flexible and extendable API, to keep the test code simple and readable.

## Get Started
### 1. Install
To install the library, simply run the following command:
```console
$ npm install -D <git_repo_clone_path>
```

The library has not been published to npm repository yet, so git repo is the only way to install it.

### 2. Code Example
As an example, you can replace the default test generated by `vue-cli` with following code:

```javascript
import EasyVueTest, { element, getTextContent } from 'easy-vue-test-2'
import HelloWorld from '@/components/HelloWorld.vue'

describe('HelloWorld.vue', () => {
  it('renders props.msg when passed', async () => {
    const msg = 'new message'

    // Wrap your tested component into an EasyVueTest object
    const easy = await EasyVueTest.mounted(HelloWorld, {
      propsData: { msg }
    })

    expect(easy
      // Use accessor to get an object
      .get(element('h1'))
      // Use action to do something to the object
      .do(getTextContent())
    ).toEqual(msg)
  })
})
```

## API Reference
Functions in the library can be divided into two groups, namely accessors and actions:
* Accessors will help you to get an object in your tested vue component. It can be either an HTML element, or a child Vue.js component
* Actions will apply action to the current object returned by an accessor

### 1. Accessors
#### `element`
* Declaration:
    ```typescript
    declare function element(selector: string): SingleAccessor<WrappedObject, HTMLElement>;
    ```
* Description: get the first HTML element which matchs the element selector.

#### `elements`
* Declaration:
    ```typescript
    declare function elements(selector: string): MultipleAccessor<WrappedObject, HTMLElement>;
    ```
* Description: get an array of HTML elements which match the element selector.

#### `childBySelector`
* Declaration:
    ```typescript
    declare function childBySelector(selector: string): SingleAccessor<VueComponent, VueComponent>;
    ```
* Description: get a chlid Vue component using element selector matching its root element.

#### `childByName`
* Declaration:
    ```typescript
    declare function childByName(componentName: string): SingleAccessor<VueComponent, VueComponent>;
    ```
* Description: get a chlid Vue component by its tag name registered in the parent component.

#### `childByRef`
* Declaration:
    ```typescript
    declare function childByRef(ref: string): SingleAccessor<VueComponent, VueComponent>;
    ```
* Description: get a child Vue component by its ref attribute.

#### `childrenBySelector`
* Declaration:
    ```typescript
    declare function childrenBySelector(selector: string): MultipleAccessor<VueComponent, VueComponent>;
    ```
* Description: get an array of chlid Vue components by matching their root components to the element selector.

#### `childrenByName`
* Declaration:
    ```typescript
    declare function childrenByName(componentName: string): MultipleAccessor<VueComponent, VueComponent>;
    ```
* Description: get an array of chlid Vue components by their tag name registered in the parent component.

### 2. Actions
WIP.

### 3. Wrapper Class
WIP.

## Extensions
WIP.
